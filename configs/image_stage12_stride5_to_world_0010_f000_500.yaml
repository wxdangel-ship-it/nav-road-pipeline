DRIVE_ID: "2013_05_28_drive_0010_sync"
KITTI_ROOT: ""
FRAME_START: 0
FRAME_END: 500
IMAGE_CAM: "image_00"

IMAGE_MODEL_ID: "gdino_sam2_v1"
IMAGE_MODEL_ZOO: "configs/image_model_zoo.yaml"

# Stage1 stride
STAGE1_STRIDE: 5
STAGE1_FORCE_FRAMES: [290]
MAX_SEEDS_PER_FRAME: 4
STAGE2_MAX_SEEDS_TOTAL: 30

# ROI
ROI_BOTTOM_CROP: 0.50
ROI_SIDE_CROP: [0.05, 0.95]

# GDINO prompt v1.1
GDINO_TEXT_PROMPT:
  - "crosswalk"
  - "zebra crossing"
  - "Zebrastreifen"
  - "斑马线"
GDINO_BOX_TH: 0.23
GDINO_TEXT_TH: 0.23
GDINO_TOPK: 12
NMS_IOU_TH: 0.50
SAM2_IMAGE_MAX_MASKS: 2
SAM2_MASK_MIN_AREA_PX: 600

# Stage1 gate
BOX_ASPECT_MIN: 2.0
BOX_H_MAX_RATIO: 0.35
BOX_CENTER_V_MIN_RATIO: 0.50
MASK_MRR_ASPECT_MIN: 2.0
STRIPE_MIN_COUNT: 6
STRIPE_ASPECT_RATIO_MIN: 2.0

# Stage2 window
STAGE2_WINDOW_PRE: 30
STAGE2_WINDOW_POST: 30
SAM2_VIDEO_PROPAGATE: "both"
OUTPUT_MASK_FORMAT: "png"

# QA
QA_RANDOM_SEED: 20260130
QA_SAMPLE_N: 18
QA_FORCE_INCLUDE: [0, 100, 250, 290, 400, 500]

# Stage3 landing
OUTPUT_EPSG: 32632
MIN_AREA_PX_PRESENT: 200
CONTOUR_SAMPLE_STEP_PX: 2
PIXEL_FILTER_STRICT_V_MIN: 0.45
PIXEL_FILTER_FALLBACK_V_MIN: 0.30
PIXEL_SIDE_CROP: [0.05, 0.95]
MIN_VALID_WORLD_PTS: 60

# DTM
USE_DTM: true
DTM_PATH: "auto_latest_clean_dtm"
DTM_ITERATIONS: 2
FIXED_PLANE_Z0_MODE: "dtm_median"
CAMERA_HEIGHT_M: 1.65

# canonical
CANONICAL_MARGIN_M: 0.30
CANONICAL_MIN_AREA_M2: 10.0
CANONICAL_MAX_AREA_M2: 350.0

# merged candidates
MERGE_DIST_M: 2.0
MERGE_IOU_MIN: 0.20
MIN_SUPPORT_FRAMES: 3

OVERWRITE: true
